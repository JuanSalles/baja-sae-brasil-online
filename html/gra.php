<?php
if (!isset($_SESSION)) session_start();


	function color(){
		$letters = '0123456789ABCDEF';
		$color = '#';
		for($i = 0; $i < 6; $i++) {
			$index = rand(0,15);
			$color .= $letters[$index];
		}
		return $color;
	}

$pg = "gra";	
$cabecalhos["gra"] = array();	


$dados = array(	
array("#1 - FEI Baja 02",array(0.94,0.855,0.768645827777778,0.520778150077838,0.712339136098033,0.916247940276469,0.950214574811113,0.539007092198582,0.78260875,0.76595)),
array("#2 - FEI Baja 01",array(0.935,0.817777760823567,0.772395833333333,0.936339414615107,0.89092664590889,0.810161912194981,0.916165936806113,0.360283655477753,0.89130425,0.81124)),
array("#3 - Mangue Baja 2",array(0.715,0.737777760823567,0.755937505555556,0.948717786820982,0.806567088046465,0.587939715531869,0.816976604179705,0.659574522194287,0.89130425,0.81735)),
array("#4 - MANGUE BAJA 1",array(0.725,0.815555521647133,0.805208316666667,0.70822279480682,0.68249044722328,0.628140703517588,0.834334731931963,0.617021303650335,1,0.85858)),
array("#5 - Baja UFMG",array(0.8,0.837777760823567,0.823020827777778,0.778956591187062,0.517891512033385,0.627024025972963,0.878969927975603,0.878014233095425,0.86956525,0.82214)),
array("#6 - Poli Atlas",array(0.5325,0.826666666666667,0.543958338888889,0.951370536068917,0.926288340779717,0.683975432719151,0.867048134937932,0.432624113475177,0.47826075,0.62135)),
array("#7 - Poli Cronos",array(0.645,0.663888905843099,0.534166666666667,0.827586392403492,0.758547097428453,0.50195418144324,0.751740587604687,0.74609929619106,0.10869575,0.43717)),
array("#8 - UDESC Velociraptor Baja SAE",array(0.5875,0.567222239176432,0.602604172222222,0.515473073188653,0.352559223167335,0.853712975413089,0,0.855319084005152,0.10869575,0.34572)),
array("#9 - Komiketo Baja UFSJ",array(0.7025,0.783333333333333,0.486666666666667,0.639257216854078,0.543720418778752,0.402568431622086,0.800953711426478,0.622695057104665,0.9130435,0.74479)),
array("#10 - UFSC Baja SAE",array(0.825,0.644444427490235,0.531562494444444,0.893899221108298,0.63908250836105,0.720826388070997,0.67563182883565,0.892198549094775,0.52173925,0.6008)),
array("#11 - Car-kará",array(0.83,0.703333333333333,0.546666666666667,0.999999915678662,1,0.956448928262187,0.999999994178812,0.826950316733502,0.86956525,0.80751)),
array("#12 - Baja de Galpão",array(0.76,0.453799997965495,0.586875005555556,0.781609340434997,0.543720418778752,0.622557230597431,0.503195069640035,0.687943289465937,0.326087,0.47656)),
array("#13 - Vitória Baja",array(0.6525,0.611666666666667,0.414270833333333,0.181255337203317,-1.88514720888987E-15,0.307649391979428,0.780352890895102,0.442553148202017,0.7608695,0.57104)),
array("#14 - UFPR Baja SAE",array(0.79,0.692777760823567,0.520729166666667,0.0795756103083897,0.120175980592339,0,0,0,0.4347825,0.37935)),
array("#15 - Cactus Baja",array(0.7125,0.647222239176432,0.506145833333333,0.70999101323432,0.667842400817355,0.388721357438232,0.277777777777777,0.737588598373088,0.97826075,0.74122)),
array("#16 - Mas Baja Tchê",array(0.5975,0.486666666666667,0.315520833333333,0.46242272590347,0.455858859273718,0.694025701014839,0.819837863614687,0.733333317100578,0.69565225,0.57523)),
array("#17 - EESC USP 1",array(0.765,0.668333333333333,0.518854161111111,0.607427177125642,0.341691905429153,0.735343366545182,0.917787283195673,0.27659569057167,0.4130435,0.50512)),
array("#18 - EESC USP 2",array(0.5725,0.78,0.502395827777778,0.45446489976635,0.63908250836105,0.596873221085898,0.868192653264893,0.431205641293357,0.69565225,0.64169)),
array("#19 - UNICAMP Baja SAE",array(0.7625,0.713333333333333,0.566145827777778,0.79310360342712,0.774347296504728,0.618090435221899,0.222222222222222,0.695035515102088,0.30434775,0.49616)),
array("#20 - ITA Baja",array(0.595,0.633333333333333,0.468541666666667,0.531388303856212,0.2008487308761,0.53992181433971,0.166666666666667,0.347517676387272,0.21739125,0.34338)),
array("#21 - Carpoeira Baja",array(0.725,0.615,0.556458338888889,0.365163545077295,0.624963982578042,0.0720267665912025,0.821363888050637,0.27659569057167,0.152174,0.39379)),
array("#22 - ZEBU BAJA",array(0.565,0.592777760823568,0.468437505555556,0.636604889212825,0.530730970226102,0.646007799822681,0.613256998930763,0.609929078014183,0.28260875,0.43247)),
array("#23 - Mud Runner 2",array(0,0.488888905843099,0.388125,0,0,0,0,0,0,0.1032)),
array("#24 - Mud Runner 1",array(0,0.496666666666667,0.367395833333333,0,0,0,0,0,0,0.10063)),
array("#25 - Baja Guaicurus",array(0,0.123966674804687,0.316458333333333,0,0,0,0,0,0.54347825,0.27295)),
array("#26 - BaGD",array(0,0,0,0,0,0,0,0,0,0)),
array("#27 - Minerva Baja",array(0,0.641666666666667,0.423333327777778,0,0,0,0,0,0.0869565,0.19223)),
array("#28 - UFF Baja",array(0.595,0.623888905843099,0.423333333333333,0.50663113783778,0.48024899209413,0.180346192360456,0.333333312959175,0.563120578197722,0.673913,0.55105)),
array("#29 - Imperador Baja SAE",array(0.64,0.598888905843099,0.375833338888889,0.231653356847248,0.505199817623057,0.899497521516,0.82708633415575,0.360283655477753,0.13043475,0.33191)),
array("#30 - Genau Baja UFSCar",array(0,0.365555572509765,0.0161458333333333,0,0,0,0,0,0.02173925,0.02644)),
array("#31 - EEP Baja",array(0.5675,0.375,0.299166661111111,0.565871092832583,0.63908250836105,0.474036816842458,0.571673851759022,0.843971577096492,0.5652175,0.49451)),
array("#32 - UFPBaja Inebriável",array(0.795,0.563888905843099,0.439583327777778,0.196286458657127,0.28904508667712,0.878280307379999,0.815259863071687,0.225531909482698,0.39130425,0.43648)),
array("#33 - Piratas do Cerrado",array(0.695,0.513333333333333,0.393333333333333,0,0,0,0,0.302127648752632,0.347826,0.30396)),
array("#34 - Saci",array(0.705,0.603888905843099,0.428229166666667,0.169761074211193,0.48024899209413,0.512004449738929,0.83175965665236,0.404255346203527,0.847826,0.63418)),
array("#35 - Baja UFABC",array(0,0.355555572509765,0.3540625,0,0,0,0,0,0.152174,0.16293)),
array("#36 - FAESA BAJA",array(0,0.235555547078451,0,0,0,0,0,0,0,0.03533)),
array("#37 - BAJA Mauá 1",array(0.7225,0.447777760823568,0.293437494444444,0.53934570838665,0.517891512033385,0.507537696961914,0.138888888888889,0.567375859470232,0,0.23032)),
array("#38 - BAJA Maua 2",array(0,0.410555572509765,0.3384375,0,0,0,0,0,0.71739125,0.39446)),
array("#39 - UFVbaja Pererecas",array(0.8,0.550555572509765,0.418645833333333,0.232537466060998,0.48024899209413,0.637074294268652,0.794754437258768,0.388652422749403,0.2608695,0.39843)),
array("#40 - Tuffão Baja SAE",array(0.685,0.529444427490235,0.446874994444444,0.337754051417612,0.543720418778752,0.888330575675687,0.807629959186485,0.182978690938747,0.10869575,0.32324)),
array("#41 - ProcoBaja",array(0,0.36,0.314270838888889,0,0,0,0,0,0.2391305,0.18122)),
array("#42 - ALI BABAJA",array(0,0.542777760823568,0,0,0,0,0,0,0,0.08142)),
array("#43 - SamaBAJA",array(0,0.453333333333333,0.259583333333333,0,0,0,0,0,0.0652175,0.11581)),
array("#44 - CEFAST BAJA SAE",array(0.83,0.82,0.719895822222222,0.663129852052075,0.742948099995597,0.86823003908431,0.879160717412523,0.431205641293357,0.826087,0.77129)),
array("#45 - Fatecnólogos",array(0.6225,0.169444452921549,0,0.254641882831495,0.22936106839287,0.590173070621117,0.775107272852587,0.859574500550615,0.39130425,0.30241)),
array("#46 - Bumba Meu Baja",array(0.615,0.277222239176432,0.223958333333333,0,0,0,0,0.205673704756067,0.0869565,0.12132)),
array("#47 - Reptiles",array(0.7025,0.544444427490235,0.433749994444444,0.772767405084125,0.712339136098033,0.0742602068774863,0.61373389975821,0.687943289465937,0.5652175,0.56783)),
array("#48 - Paraybaja",array(0.645,0.49,0.271458327777778,0.249336805942308,0.268742342976942,0.37241762673502,0.843490733017963,0.947517746729208,0.4347825,0.43644)),
array("#49 - FhoBaja",array(0,0.221666666666667,0.329687494444444,0,0,0,0,0,0,0.07759)),
array("#50 - Bajiganga",array(0,0,0.00833333333333333,0,0,0,0,0,0,0)),
array("#51 - PAC BAJA",array(0.645,0.402222239176432,0.505208333333333,0.41202470625954,0.467985002988167,0.925181445830498,0.847401043296598,0.356028374205243,0.2391305,0.37408)),
array("#52 - Caledônia Racing Baja SAE",array(0.6575,0.01,0.0283854166666667,0.362511217436043,0.467985002988167,0.296482446139115,0.474105865522173,0.188652444393077,0.173913,0.15188)),
array("#53 - IFPI Baja SAE",array(0,0,0,0,0,0,0,0,0,0)),
array("#54 - Corisco",array(0.7,0.752222239176427,0.348333338888889,0.3191864931088,0.13750280219844,0.92964824120603,0.86714352965639,0.304964593116273,0.347826,0.42069)),
array("#55 - Tec Ilha Baja",array(0,0.437777760823568,0.298229161111111,0,0,0,0,0,0.4130435,0.26457)),
array("#56 - Piratas do Vale",array(0.5825,0.558888905843099,0.289166666666667,0,0,0,0,0,0,0.13253)),
array("#57 - Baja Mud Racing Facens",array(0.6675,0.461666666666667,0.376041672222222,0.70910690402057,0.790352543131083,0.766610848976872,0.758702873990372,0.106382951668814,0.326087,0.40526)),
array("#58 - Bombaja UFSM",array(0.6925,0.643333333333333,0.402708338888889,0.563218343584648,0.48024899209413,0.893914048595843,0.0833333333333333,0.392907839294865,0.5869565,0.51774)),
array("#59 - BAJA UEA",array(0,0.486666666666667,0.332500005555556,0,0,0,0,0,0.04347825,0.13524)),
array("#60 - Mack Gear",array(0.6675,0.466688893636068,0.351875,0.678160973505885,0.583616842439782,0.999999991480296,0.138888888888889,0.676595782557277,0.173913,0.35089)),
array("#61 - Bode Guerreiro Baja",array(0,0,0,0,0,0,0,0,0,0)),
array("#62 - Bajacaré",array(0,0.242222213745117,0,0,0,0,0,0,0,0.02633)),
array("#63 - Baja Tucuruí",array(0,0,0.241875,0,0,0,0,0,0,0.00354)),
array("#64 - Baja-Unifeg",array(0,0,0,0,0,0,0,0,0,0)),
array("#65 - Camaleão",array(0,0.133333333333333,0,0,0,0,0,0,0,0.02)),
array("#66 - Bajagreste",array(0.4475,0.457777760823568,0.278854166666667,-1.21422724905423E-07,0.320300770142808,0.675041841968086,0.631664250291525,0.513475134017618,0.60869575,0.45097)),
array("#67 - Espinhaço",array(0.5025,0.460555572509765,0.24375,0.324491569997987,0.43201059446078,0.76214405360134,0.553934217897777,0.641134789649475,0.347826,0.36685)),
array("#68 - Rampage Baja UFJF",array(0,0.096111119588216,0.0432291666666667,0,0,0,0,0,0,0)),
array("#69 - URI BAJA",array(0,0.104444440205892,0.200520827777778,0,0,0,0,0,0,0.03176)),
array("#70 - Äkupã",array(0,0.0205555470784507,0,0,0,0,0,0,0,0)),
array("#71 - PUC-MG Baja Racing Team",array(0,0.108333333333333,0.119270833333333,0,0,0,0,0,0.04347825,0.03511)),
array("#72 - BAJA SAE CLARENGEX",array(0,0.0577777735392253,0,0,0,0,0,0,0,0)),
array("#73 - Unibaja",array(0,0,0,0,0,0,0,0,0,0)),
array("#74 - Pato BAJA",array(0.67,0.333333333333333,0.288229161111111,0.533156522283713,0.543720418778752,0.67727528225437,0.674964211336133,1,0.673913,0.53173)),
array("#75 - Baajatinga",array(0,0.625555572509765,0,0,0,0,0,0,0,0.08383)),
array("#76 - CELERITAS",array(0,0.0877777735392253,0,0,0,0,0,0,0,0)),
array("#77 - Londribaja",array(0,0,0.041875,0,0,0,0,0,0,0)),
array("#78 - Gralha Azul",array(0.43,0.257500940958659,0.216458333333333,0.3191864931088,0.210258247572143,0,0.277777777777777,0.539007092198582,0.173913,0.22153)),
array("#79 - BAJA CATARATAS",array(0.63,0.498333333333333,0.292604166666667,0.702033608703882,0.467985002988167,0.951982132886655,0.741344746238115,-2.70545904355612E-08,0.28260875,0.36226)),
array("#80 - Ucam Baja",array(0,0.112222213745117,0.151979166666667,0,0,0,0,0,0,0.00419)),
array("#81 - MountainBaja",array(0,0.153333333333333,0.162083333333333,0,0,0,0,0,0,0.01218)),
array("#82 - Caraubaja SAE",array(0,0.218888880411784,0,0,0,0,0,0,0,0.02283)),
array("#83 - Jambu Racing",array(0,0,0,0,0,0,0,0,0,0)),
array("#84 - Bajagual",array(0,0,0,0,0,0,0,0,0,0)),
array("#85 - Cerrado de Baja SAE",array(0.61,0.434766642252604,0.367499994444444,0.618921440117765,0.517891512033385,0.724176420704869,0.166666666666667,0.421276606566517,0,0.23429)),
array("#86 - TURUNA",array(0,0,0,0,0,0,0,0,0,0)),
array("#87 - UNIFEB",array(0,0,0.110208333333333,0,0,0,0,0,0,0)),
array("#88 - Javalis Baja UCDB",array(0,0.214444452921549,0.099375,0,0,0,0,0,0,0.02505))
);
$provas = array("Conforto", "Relatório", "Apresentação", "Aceleração", "Velocidade", "Slalom", "S&T", "Tração", "Enduro", "Total");
?>
<html>
<head>
	<title><?php echo _TITULO ?></title>
    <meta name="viewport" content="width=device-width" />
	<meta charset="UTF-8" />
   <link rel="stylesheet" href="/css/chartist.min.css">
   <script src="js/chartist.min.js"></script>	
   <script src="js/chartist-plugin-tooltip.js"></script>   
   <script src="js/chartist-plugin-legend.js"></script>  
  <script src="js/jquery-latest.min.js"></script>
    <script src="js/jquery.tablesorter.js"></script>
    <script src="js/jquery.tablesorter.widgets.js"></script>
    <link class="theme" rel="stylesheet" href="css/theme.blue.css">
    <link class="theme" rel="stylesheet" href="css/theme.blue.disable.hover.css">
    <link rel="icon" href="img/baja.png" type="image/png">
    <!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

  <style type="text/css">
<?php

	for($p=0; $p < sizeof($dados) + 1; $p++){
		$color = color();
		echo ".ct-series-$p .ct-point, .ct-series-$p .ct-line, .ct-series-$p .ct-bar, .ct-series-$p .ct-slice-donut {stroke: $color; }\n
		.ct-series-a .ct-slice-pie, .ct-series-a .ct-area { fill: $color; }\n
		.ct-legend .ct-series-$p:before {background-color: $color; border-color: $color;}\n";
	}
?>
    </style>  
</head>
<script id="js">
    $(function(){
        $("table").tablesorter({
            theme : 'blue',
            widgets: [ 'zebra', 'stickyHeaders'],
            <?php if($pg != "seg" && $pg  != "fre") echo "sortList: [[1,0]]" ?>
        });
    
	
	t = $( ".ct-legend" ).children()[0]
	t.setAttribute("id", "todos");
	$('#todos').trigger('click');
	
	});
</script>
<body>
<?php 
	include("menu.php");
    Template::printGA();
?>
</thead>
<tbody>
<tr></tr>
<tr>
<?php
	if($ehCelular == 1){
echo "<td>
		<span class='ct-chart ct-chart-line'></span>
	</td>
	</tr>
	<tr>
	<td>
	<div id='legend' style='height:400px; overflow:auto'></div>
		
	</td>
</tr>";		
	}else{	
	echo "<td style='width: 250px;'>
		<div id='legend' style='height:400px; overflow:auto'></div>
	</td>
	<td>
		<span class='ct-chart ct-chart-line'></span>
	</td>
</tr>"; 
	}?>


   <script>
     var data = {
        labels: ["Conforto", "Relatório", "Apresentação", "Aceleração", "Velocidade", "Slalom", "S&T", "Tração", "Enduro", "Total"],
  series: [[{}],
<?php

	foreach ($dados as $d){
		echo "[";
		for($p=0; $p < sizeof($provas); $p++){
			echo	"{ meta:'$d[0]|$provas[$p]', value:'".$d[1][$p]."'},";
		}
		echo "],";
	}
?>
  
  ]
      }
	  
	
var options = {
	<?php 
		if($ehCelular == 1){
			echo"height: 400,width:1000,";
		}else{
			echo"height: 400,";		
		}
	?>
	
	low: 0,
	high: 1,
    chartPadding: {
		right: 40
    },
    plugins: [
		Chartist.plugins.legend({
			legendNames: ["Todos",
			<?php
				foreach ($dados as $d){
					echo "'$d[0]',";
				}
			?>
			],
		}),
		Chartist.plugins.tooltip()
		],axisY: {
    showLabel: false,
	
	
  },
  lineSmooth: false,
		 
};  
	  
	  

   new Chartist.Line('.ct-chart-line', data, options);  

    cel = "<?php echo $ehCelular ; ?>";
    document.getElementById("titulo").innerHTML = document.getElementById('<?php echo $pg; ?>').innerHTML;
    if(cel != 1){
        document.getElementById("geral").innerHTML = "Geral -> <span style=color:yellow>" + document.getElementById('gra').innerHTML + "</span>";
    }
	

</script>
<script type="text/javascript" src="js/menu.js"></script>

